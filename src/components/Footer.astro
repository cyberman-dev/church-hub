---
interface SocialMedia {
  facebook?: string;
  instagram?: string;
  twitter?: string;
  youtube?: string;
  tiktok?: string;
}

interface Props {
  churchName?: string;
  socialMedia?: SocialMedia;
}

const { churchName = 'Our Church', socialMedia } = Astro.props;
const year = new Date().getFullYear();

const links: { name: string; url?: string; icon: string }[] = [
  { name: 'Facebook', url: socialMedia?.facebook, icon: 'M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z' },
  { name: 'Instagram', url: socialMedia?.instagram, icon: 'M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5M12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10m0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6' },
  { name: 'YouTube', url: socialMedia?.youtube, icon: 'M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19.1c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.43zM9.75 15.02V8.48l5.75 3.27-5.75 3.27z' },
  { name: 'X', url: socialMedia?.twitter, icon: 'M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z' },
  { name: 'TikTok', url: socialMedia?.tiktok, icon: 'M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-2.88 2.5 2.89 2.89 0 0 1-2.89-2.89A2.89 2.89 0 0 1 9.49 12.4a2.87 2.87 0 0 1 .89.14V9.06a6.36 6.36 0 0 0-.89-.06 6.34 6.34 0 0 0-6.34 6.34 6.34 6.34 0 0 0 6.34 6.34 6.34 6.34 0 0 0 6.34-6.34V9.66a8.27 8.27 0 0 0 4.76 1.51V7.72a4.85 4.85 0 0 1-1-.03z' },
];

const activeLinks = links.filter((l) => l.url);
---

<footer class="border-t border-slate-800 bg-slate-950 px-6 py-12 text-slate-400">
  <div class="mx-auto flex max-w-7xl flex-col items-center gap-6 md:flex-row md:justify-between">
    <div class="text-center md:text-left">
      <p class="text-sm font-semibold text-white">{churchName}</p>
      <p class="mt-1 text-xs">&copy; {year} {churchName}. All rights reserved.</p>
    </div>

    {activeLinks.length > 0 && (
      <div class="flex gap-5">
        {activeLinks.map((link) => (
          <a
            href={link.url}
            target="_blank"
            rel="noreferrer"
            aria-label={link.name}
            class="text-slate-400 transition hover:text-cyan-400"
          >
            <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24">
              <path d={link.icon} />
            </svg>
          </a>
        ))}
      </div>
    )}
  </div>
</footer>
